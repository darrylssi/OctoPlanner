<!DOCTYPE html>
<html>

<body>

    <header th:fragment="header">
        <script>
            function toggleMenu() {
                if(document.getElementById("userMenu").className == "dropdown-content") {
                    document.getElementById("userMenu").className = "dropdown-content show";
                } else {
                    document.getElementById("userMenu").className = "dropdown-content";
                }
            }

            // Close the dropdown if the user clicks outside of it
            window.onclick = function(event) {
              if (!event.target.matches('.profile-icon')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                  var openDropdown = dropdowns[i];
                  if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                  }
                }
              }
            }
        </script>
        <div class="header">
            <div class="title">
                <div class="title-name" th:text="${title}" />
                <div class="title-date" th:text="${subtitle}" />
            </div>
            <div class="dropdown">
<!--                TODO use the actual user's profile image-->
                <button style="background-image: url(/img/default-pfp.jpg)" class="profile-icon" onclick="toggleMenu()">
                </button>
                <div id="userMenu" class="dropdown-content">
                    <a href="/users/current"><buttton>Profile</buttton></a>
                    <form th:action="@{/logout}" method="post">
                        <button type="submit"> Logout </button>
                    </form>
                </div>
            </div>
        </div>
    </header>

</body>


</html>